<script type="text/javascript">
    RED.nodes.registerType('VerisureAlarmNode',{
        category: 'Verisure',
        color: '#a6bbcf',
        defaults: {
            name: { value: "Verisure Alarm" },
            user: { value: "", type: "VerisureConfig", required:true }
        },
        inputs: 1,
        outputs: 1,
        icon: "file.png",
        label: function() {
            return this.name || 'VerisureAlarmNode';
        }
    });
</script>

<script type="text/x-red" data-template-name="VerisureAlarmNode">
    <div class="form-row">
        <label for="node-input-user"><i class="icon-tag"></i> Credentials </label>
        <input type="text" id="node-input-user" placeholder="user">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="VerisureAlarmNode">
    <p>A node for interacting with Verisure systems, fetching arm status. On message input, returns alarmstate and if it has changed since last time. Only targeting first Verisure site if multiple available for the given user</p>
    <p>Return payload format {"currentStatus":"DISARMED","changed":false,"date":"2017-09-24T14:10:22.000Z","name":"You maybe"}</p>
</script>

